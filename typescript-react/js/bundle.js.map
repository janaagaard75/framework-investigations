{"version":3,"sources":["webpack:///webpack/bootstrap cb468792fba8fc57466c","webpack:///./src/TodoApp.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/TodoModel.ts","webpack:///./src/Utils.ts","webpack:///./src/TodoFooter.tsx","webpack:///./src/constants.ts","webpack:///./src/TodoItem.tsx"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C,oCAAoC;AACnF,sDAAqD,uCAAuC;AAC5F,yDAAwD,0CAA0C;AAClG,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,kEAAiE,8PAA8P,uBAAuB,GAAG;AACzV,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,gEAA+D,2HAA2H,+BAA+B,GAAG;AAC5N;AACA;AACA,yDAAwD,kBAAkB,gCAAgC,mEAAmE,2BAA2B,EAAE,iCAAiC,8BAA8B,uBAAuB;AAChS;AACA,qFAAoF,oBAAoB,0EAA0E,wGAAwG,sCAAsC,EAAE,kBAAkB;AACpV;AACA;AACA,MAAK;AACL;AACA;AACA,uDAAsD,aAAa;AACnE;AACA;AACA;AACA,EAAC;;;;;;;AClGD,wB;;;;;;ACAA,2B;;;;;;iECAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD,MAAM,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,iDAAgD,SAAS,qBAAqB;AAC9E,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,SAAS,6BAA6B;AACnF,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,8EAA6E,SAAS,cAAc;AACpG,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;AACL,mDAAkD,cAAc;AAChE;AACA,EAAC;;;;;;;iEC3DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA,4BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,mDAAkD,cAAc;AAChE;AACA,EAAC;;;;;;;AC9CD;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA8D,mEAAmE;AACjI;AACA;AACA,oDAAmD,oBAAoB,+BAA+B,wBAAwB,mHAAmH,qBAAqB,4DAA4D,mCAAmC,iDAAiD,EAAE,0EAA0E,yCAAyC,oDAAoD,EAAE,6EAA6E,4CAA4C,uDAAuD,EAAE;AACnvB;AACA;AACA,MAAK;AACL,mDAAkD,cAAc;AAChE;AACA,EAAC;;;;;;;iECzBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACPD;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,gCAA+B,gBAAgB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA,gCAA+B,kCAAkC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAA+C;AAC/C;AACA;AACA,cAAa,EAAE,8BAA8B,kBAAkB,gCAAgC,yGAAyG,iCAAiC,6BAA6B,2BAA2B,GAAG,yDAAyD,oDAAoD,kCAAkC,uFAAuF,8BAA8B,EAAE,0BAA0B,8BAA8B,EAAE,2BAA2B,+BAA+B,GAAG;AACjqB;AACA;AACA,MAAK;AACL,mDAAkD,cAAc;AAChE;AACA,EAAC","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cb468792fba8fc57466c\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\ndefine([\"require\", \"exports\", \"react\", \"react-dom\", \"./TodoModel\", \"./TodoFooter\", \"./TodoItem\", \"./constants\"], function (require, exports, React, ReactDOM, TodoModel_1, TodoFooter_1, TodoItem_1, constants_1) {\n    \"use strict\";\n    var TodoApp = (function (_super) {\n        __extends(TodoApp, _super);\n        function TodoApp(props) {\n            _super.call(this, props);\n            this.state = {\n                editing: null,\n                nowShowing: constants_1.ALL_TODOS\n            };\n        }\n        TodoApp.prototype.componentDidMount = function () {\n            var router = Router({\n                \"/\": this.setState.bind(this, { nowShowing: constants_1.ALL_TODOS }),\n                \"/active\": this.setState.bind(this, { nowShowing: constants_1.ACTIVE_TODOS }),\n                \"/completed\": this.setState.bind(this, { nowShowing: constants_1.COMPLETED_TODOS })\n            });\n            router.init(\"/\");\n        };\n        TodoApp.prototype.handleNewTodoKeyDown = function (event) {\n            if (event.keyCode !== constants_1.ENTER_KEY) {\n                return;\n            }\n            event.preventDefault();\n            var val = ReactDOM.findDOMNode(this.refs[\"newField\"]).value.trim();\n            if (val) {\n                this.props.model.addTodo(val);\n                ReactDOM.findDOMNode(this.refs[\"newField\"]).value = \"\";\n            }\n        };\n        TodoApp.prototype.toggleAll = function (event) {\n            var target = event.target;\n            var checked = target.checked;\n            this.props.model.toggleAll(checked);\n        };\n        TodoApp.prototype.toggle = function (todoToToggle) {\n            this.props.model.toggle(todoToToggle);\n        };\n        TodoApp.prototype.destroy = function (todo) {\n            this.props.model.destroy(todo);\n        };\n        TodoApp.prototype.edit = function (todo) {\n            this.setState({ editing: todo.id });\n        };\n        TodoApp.prototype.save = function (todoToSave, text) {\n            this.props.model.save(todoToSave, text);\n            this.setState({ editing: null });\n        };\n        TodoApp.prototype.cancel = function () {\n            this.setState({ editing: null });\n        };\n        TodoApp.prototype.clearCompleted = function () {\n            this.props.model.clearCompleted();\n        };\n        TodoApp.prototype.render = function () {\n            var _this = this;\n            var footer;\n            var main;\n            var todos = this.props.model.todos;\n            var shownTodos = todos.filter(function (todo) {\n                switch (_this.state.nowShowing) {\n                    case constants_1.ACTIVE_TODOS:\n                        return !todo.completed;\n                    case constants_1.COMPLETED_TODOS:\n                        return todo.completed;\n                    default:\n                        return true;\n                }\n            });\n            var todoItems = shownTodos.map(function (todo) {\n                return (React.createElement(TodoItem_1.default, {key: todo.id, todo: todo, onToggle: _this.toggle.bind(_this, todo), onDestroy: _this.destroy.bind(_this, todo), onEdit: _this.edit.bind(_this, todo), editing: _this.state.editing === todo.id, onSave: _this.save.bind(_this, todo), onCancel: function (e) { return _this.cancel(); }}));\n            });\n            var activeTodoCount = todos.reduce(function (accum, todo) {\n                return todo.completed ? accum : accum + 1;\n            }, 0);\n            var completedCount = todos.length - activeTodoCount;\n            if (activeTodoCount || completedCount) {\n                footer =\n                    React.createElement(TodoFooter_1.default, {count: activeTodoCount, completedCount: completedCount, nowShowing: this.state.nowShowing, onClearCompleted: function (e) { return _this.clearCompleted(); }});\n            }\n            if (todos.length) {\n                main = (React.createElement(\"section\", {className: \"main\"}, React.createElement(\"input\", {className: \"toggle-all\", type: \"checkbox\", onChange: function (e) { return _this.toggleAll(e); }, checked: activeTodoCount === 0}), React.createElement(\"ul\", {className: \"todo-list\"}, todoItems)));\n            }\n            return (React.createElement(\"div\", null, React.createElement(\"header\", {className: \"header\"}, React.createElement(\"h1\", null, \"todos\"), React.createElement(\"input\", {ref: \"newField\", className: \"new-todo\", placeholder: \"What needs to be done?\", onKeyDown: function (e) { return _this.handleNewTodoKeyDown(e); }, autoFocus: true})), main, footer));\n        };\n        return TodoApp;\n    }(React.Component));\n    var model = new TodoModel_1.default(\"react-todos\");\n    function render() {\n        ReactDOM.render(React.createElement(TodoApp, {model: model}), document.getElementsByClassName(\"todoapp\")[0]);\n    }\n    model.subscribe(render);\n    render();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/TodoApp.tsx\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = React;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = ReactDOM;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0\n **/","define([\"require\", \"exports\", \"./Utils\"], function (require, exports, Utils_1) {\n    \"use strict\";\n    var TodoModel = (function () {\n        function TodoModel(key) {\n            this.key = key;\n            this.todos = Utils_1.default.store(key);\n            this.onChanges = [];\n        }\n        TodoModel.prototype.subscribe = function (onChange) {\n            this.onChanges.push(onChange);\n        };\n        TodoModel.prototype.inform = function () {\n            Utils_1.default.store(this.key, this.todos);\n            this.onChanges.forEach(function (cb) { cb(); });\n        };\n        TodoModel.prototype.addTodo = function (title) {\n            this.todos = this.todos.concat({\n                completed: false,\n                id: Utils_1.default.uuid(),\n                title: title\n            });\n            this.inform();\n        };\n        TodoModel.prototype.toggleAll = function (checked) {\n            this.todos = this.todos.map(function (todo) {\n                return Utils_1.default.extend({}, todo, { completed: checked });\n            });\n            this.inform();\n        };\n        TodoModel.prototype.toggle = function (todoToToggle) {\n            this.todos = this.todos.map(function (todo) {\n                return todo !== todoToToggle ?\n                    todo :\n                    Utils_1.default.extend({}, todo, { completed: !todo.completed });\n            });\n            this.inform();\n        };\n        TodoModel.prototype.destroy = function (todo) {\n            this.todos = this.todos.filter(function (candidate) {\n                return candidate !== todo;\n            });\n            this.inform();\n        };\n        TodoModel.prototype.save = function (todoToSave, text) {\n            this.todos = this.todos.map(function (todo) {\n                return todo !== todoToSave ? todo : Utils_1.default.extend({}, todo, { title: text });\n            });\n            this.inform();\n        };\n        TodoModel.prototype.clearCompleted = function () {\n            this.todos = this.todos.filter(function (todo) {\n                return !todo.completed;\n            });\n            this.inform();\n        };\n        return TodoModel;\n    }());\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = TodoModel;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/TodoModel.ts\n ** module id = 3\n ** module chunks = 0\n **/","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    var Utils = (function () {\n        function Utils() {\n        }\n        Utils.uuid = function () {\n            var uuid = \"\";\n            for (var i = 0; i < 32; i++) {\n                var random = Math.random() * 16 | 0;\n                if (i === 8 || i === 12 || i === 16 || i === 20) {\n                    uuid += \"-\";\n                }\n                uuid += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16);\n            }\n            return uuid;\n        };\n        Utils.pluralize = function (count, word) {\n            return count === 1 ? word : word + \"s\";\n        };\n        Utils.store = function (namespace, data) {\n            if (data) {\n                return localStorage.setItem(namespace, JSON.stringify(data));\n            }\n            var store = localStorage.getItem(namespace);\n            return (store && JSON.parse(store)) || [];\n        };\n        Utils.extend = function () {\n            var objs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                objs[_i - 0] = arguments[_i];\n            }\n            var newObj = {};\n            for (var i = 0; i < objs.length; i++) {\n                var obj = objs[i];\n                for (var key in obj) {\n                    if (obj.hasOwnProperty(key)) {\n                        newObj[key] = obj[key];\n                    }\n                }\n            }\n            return newObj;\n        };\n        return Utils;\n    }());\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = Utils;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/Utils.ts\n ** module id = 4\n ** module chunks = 0\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\ndefine([\"require\", \"exports\", \"react\", \"./constants\", \"./Utils\"], function (require, exports, React, constants_1, Utils_1) {\n    \"use strict\";\n    var TodoFooter = (function (_super) {\n        __extends(TodoFooter, _super);\n        function TodoFooter() {\n            _super.apply(this, arguments);\n        }\n        TodoFooter.prototype.render = function () {\n            var activeTodoWord = Utils_1.default.pluralize(this.props.count, \"item\");\n            var clearButton = null;\n            if (this.props.completedCount > 0) {\n                clearButton = (React.createElement(\"button\", {className: \"clear-completed\", onClick: this.props.onClearCompleted}, \"Clear completed\"));\n            }\n            var nowShowing = this.props.nowShowing;\n            return (React.createElement(\"footer\", {className: \"footer\"}, React.createElement(\"span\", {className: \"todo-count\"}, React.createElement(\"strong\", null, this.props.count), \" \", activeTodoWord, \" left\"), React.createElement(\"ul\", {className: \"filters\"}, React.createElement(\"li\", null, React.createElement(\"a\", {href: \"#/\", className: classNames({ selected: nowShowing === constants_1.ALL_TODOS })}, \"All\")), \" \", React.createElement(\"li\", null, React.createElement(\"a\", {href: \"#/active\", className: classNames({ selected: nowShowing === constants_1.ACTIVE_TODOS })}, \"Active\")), \" \", React.createElement(\"li\", null, React.createElement(\"a\", {href: \"#/completed\", className: classNames({ selected: nowShowing === constants_1.COMPLETED_TODOS })}, \"Completed\"))), clearButton));\n        };\n        return TodoFooter;\n    }(React.Component));\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = TodoFooter;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/TodoFooter.tsx\n ** module id = 5\n ** module chunks = 0\n **/","define([\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    exports.ALL_TODOS = \"all\";\n    exports.ACTIVE_TODOS = \"active\";\n    exports.COMPLETED_TODOS = \"completed\";\n    exports.ENTER_KEY = 13;\n    exports.ESCAPE_KEY = 27;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/constants.ts\n ** module id = 6\n ** module chunks = 0\n **/","var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\ndefine([\"require\", \"exports\", \"react\", \"react-dom\", \"./constants\"], function (require, exports, React, ReactDOM, constants_1) {\n    \"use strict\";\n    var TodoItem = (function (_super) {\n        __extends(TodoItem, _super);\n        function TodoItem(props) {\n            _super.call(this, props);\n            this.state = { editText: this.props.todo.title };\n        }\n        TodoItem.prototype.handleSubmit = function (event) {\n            var val = this.state.editText.trim();\n            if (val) {\n                this.props.onSave(val);\n                this.setState({ editText: val });\n            }\n            else {\n                this.props.onDestroy();\n            }\n        };\n        TodoItem.prototype.handleEdit = function () {\n            this.props.onEdit();\n            this.setState({ editText: this.props.todo.title });\n        };\n        TodoItem.prototype.handleKeyDown = function (event) {\n            if (event.keyCode === constants_1.ESCAPE_KEY) {\n                this.setState({ editText: this.props.todo.title });\n                this.props.onCancel(event);\n            }\n            else if (event.keyCode === constants_1.ENTER_KEY) {\n                this.handleSubmit(event);\n            }\n        };\n        TodoItem.prototype.handleChange = function (event) {\n            var input = event.target;\n            this.setState({ editText: input.value });\n        };\n        TodoItem.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n            return (nextProps.todo !== this.props.todo ||\n                nextProps.editing !== this.props.editing ||\n                nextState.editText !== this.state.editText);\n        };\n        TodoItem.prototype.componentDidUpdate = function (prevProps) {\n            if (!prevProps.editing && this.props.editing) {\n                var node = ReactDOM.findDOMNode(this.refs[\"editField\"]);\n                node.focus();\n                node.setSelectionRange(node.value.length, node.value.length);\n            }\n        };\n        TodoItem.prototype.render = function () {\n            var _this = this;\n            return (React.createElement(\"li\", {className: classNames({\n                completed: this.props.todo.completed,\n                editing: this.props.editing\n            })}, React.createElement(\"div\", {className: \"view\"}, React.createElement(\"input\", {className: \"toggle\", type: \"checkbox\", checked: this.props.todo.completed, onChange: this.props.onToggle}), React.createElement(\"label\", {onDoubleClick: function (e) { return _this.handleEdit(); }}, this.props.todo.title), React.createElement(\"button\", {className: \"destroy\", onClick: this.props.onDestroy})), React.createElement(\"input\", {ref: \"editField\", className: \"edit\", value: this.state.editText, onBlur: function (e) { return _this.handleSubmit(e); }, onChange: function (e) { return _this.handleChange(e); }, onKeyDown: function (e) { return _this.handleKeyDown(e); }})));\n        };\n        return TodoItem;\n    }(React.Component));\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.default = TodoItem;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/TodoItem.tsx\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}