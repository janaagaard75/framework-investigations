<section class="todoapp" *mobxAutorun>
  <header class="header">
    <h1>todos</h1>
    <form (submit)="addTodo()">
      <input class="new-todo" name="newTodoTitle" placeholder="What needs to be done?" [(ngModel)]="newTodoTitle" autofocus>
    </form>
  </header>
  <section class="main" ng-show="store.todos.length >= 1" class="">
    <input type="checkbox" class="toggle-all" ng-model="allChecked" (click)="store.todos.completeAll()">
    <label for="toggle-all">Mark all as complete</label>
    <ul class="todo-list">
      <li *ngFor="let todo of store.todos.filteredTodos" [class.completed]="todo.completed">
        <div class="view">
          <input type="checkbox" class="toggle" [checked]="todo.completed" (change)="todo.toggle()">
          <label>{{todo.title}}</label>
          <button class="destroy" (click)="store.todos.removeTodo(todo)"></button>
        </div>
      </li>
    </ul>
  </section>
  <footer class="footer">
    <span class="todo-count"><strong>{{store.todos.numberOfActiveTodos}}</strong> items left</span>
    <ul class="filters">
      <li>
        <a [class.selected]="store.todos.filter === null" (click)="store.todos.showAll()">All</a>
      </li>
      <li>
        <a [class.selected]="store.todos.filter === false" (click)="store.todos.showActive()">Active</a>
      </li>
      <li>
        <a [class.selected]="store.todos.filter === true" (click)="store.todos.showCompleted()">Completed</a>
      </li>
    </ul>
    <button class="clear-completed" (click)="store.todos.clearCompleted()">Clear completed</button>
  </footer>
</section>
